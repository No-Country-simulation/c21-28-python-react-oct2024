DROP TABLE IF EXISTS `Contacts`;
CREATE TABLE IF NOT EXISTS `Contacts` (
  `ContactId` bigint(20) NOT NULL AUTO_INCREMENT,
  `CompanyId` int(11) NOT NULL, 
  `GenderId` int(11) NOT NULL,
  `FirstName` varchar(100) CHARACTER SET utf8 NOT NULL,
  `MiddleName` varchar(100) CHARACTER SET utf8 NOT NULL,
  `LastName` varchar(100) CHARACTER SET utf8 NOT NULL,
  `BirthDate` datetime DEFAULT NULL,
  `Phone` varchar(100) CHARACTER SET utf8 NOT NULL,
  `Email` varchar(100) CHARACTER SET utf8 NOT NULL,
  `Note` varchar(2000) CHARACTER SET utf8 NOT NULL,
  `ImgPath` varchar(250) CHARACTER SET utf8 DEFAULT NULL,
  `IsChecked` smallint(6) NOT NULL DEFAULT '0',
  `IsActive` smallint(6) NOT NULL DEFAULT '1',
  `CreatedAt` datetime NOT NULL,
  `UpdatedAt` datetime DEFAULT NULL,
  `DeletedAt` datetime DEFAULT NULL,
  `CreatedBy` varchar(50) CHARACTER SET utf8 NOT NULL,
  `UpdatedBy` varchar(50) CHARACTER SET utf8 DEFAULT NULL,
  `DeletedBy` varchar(50) CHARACTER SET utf8 DEFAULT NULL,
  PRIMARY KEY (`ContactId`),
  UNIQUE KEY `UQ_Contacts_NamesBirthDate` (`CompanyId`,`FirstName`,`MiddleName`,`LastName`,`BirthDate`),
  KEY `FK_Contacts_GenderId` (`GenderId`),
  CONSTRAINT `FK_Contacts_CompanyId` FOREIGN KEY (`CompanyId`) REFERENCES `Companies` (`CompanyId`),
  CONSTRAINT `FK_Contacts_GenderId` FOREIGN KEY (`GenderId`) REFERENCES `Genders` (`GenderId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
